<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>

  </head>
  <body>

<div class="navbar">
  <ul>
  <li><a class="active" href="#home">Home</a></li>
  <li><a href="#news">News</a></li>
  <li><a href="#contact">Notifications</a></li>
  <li><a href="#about">Messages</a></li>
  </ul>
  </div>
  <style>
ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #1dcaff;
}

li {
    float: left;
}

li a {
    display: block;
    color: white;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
}

li a:hover {
    background-color: #0084b4;
}

  </style>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        $body.html('');

        var index = 0;
        while(index < streams.home.length ){
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message);
          $tweet.appendTo($body);
          index ++;
        }
        displayNewTweet();
        //set timeout
        //check if next element is undefined
        //if defined, display

        function displayNewTweet(){
          setTimeout(function(){ 
            if (streams.home[index] !== undefined){
              var tweet = streams.home[index];
              var $tweet = $('<div></div>');
              $tweet.text('@' + tweet.user + ': ' + tweet.message + tweet.created_at);
              $tweet.appendTo($body);
              index ++;
            }
              displayNewTweet();
          } ,0);
        }
          var userIndex = 0;
        //   function displayNewTweet(){
        //   setTimeout(function(){ 
        //     if (streams.users.mracus[userIndex] !== undefined){
        //       var tweet = streams.users.mracus[userIndex];
        //       var $tweet = $('<div></div>');
        //       $tweet.text('@' + tweet.user + ': ' + tweet.message + tweet.created_at);
        //       $tweet.appendTo($body);
        //       userIndex ++;
        //     }
        //       displayNewTweet();
        //   } ,0);
        // }

      });

    </script>
  </body>
</html>
